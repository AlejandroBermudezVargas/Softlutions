<div class="container">
	<div class="table-responsive col-lg-11">
		<div class="ibox float-e-margins">
			<div class="ibox-title">
				<h5>Mis eventos</h5>
				<div class="ibox-tools">
					<a class="collapse-link"> <i class="fa fa-chevron-up"></i>
					</a> <a class="dropdown-toggle" data-toggle="dropdown" href="#"> <i
						class="fa fa-wrench"></i>
					</a>
					<ul class="dropdown-menu dropdown-user">
						<li><a href="#">Config option 1</a></li>
						<li><a href="#">Config option 2</a></li>
					</ul>
					<a class="close-link"> <i class="fa fa-times"></i>
					</a>
				</div>
			</div>
			<div class="ibox-content">
				<table class="table table-hover">
					<thead>
						<tr>
							<th>Nombre</th>
							<th>Descripción</th>
							<th>Lugar</th>
							<th>Estado</th>
							<th>Acción</th>
						</tr>
					</thead>
					<tbody ng-repeat="event in events">
						<tr>
							<td>{{ event.name }}</td>
							<td>{{ event.description }}</td>
							<td>{{ event.place.name }}</td>
							<td><span class="label label-danger pull-right">{{
									event.state || eventState }}</span></td>
							<td><button type="button" ng-click="listContracts(event.eventId)" class="btn btn-info col-md-9">Listar contratos</button>
								<button type="button" ng-click="listParticipants(event.eventId)" data-toggle="modal" data-target="#modalParticipants" class="btn btn-success col-md-9">Listar participantes</button>
							<td/>
						</tr>
					</tbody>

				</table>
			</div>
			
		</div>
	</div>
	<div id="modalParticipants" class="modal fade" role="dialog">
		<div class="modal-dialog">
		
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Estado de invitados</h4>
				</div>
				<div class="modal-body">
					<table class="table table-hover">
						<thead>
							<tr>
								<th>Nombre</th>
								<th>Estado</th>
								<th>Fecha de envio de la invitación</th>
							</tr>
						</thead>
						<tbody ng-repeat="participant in participants">
							<tr>
								<td>{{ participant.user.name }} {{ participant.user.lastName1 }} {{ participant.user.lastName2 }}</td>
								<td>{{ ((participant.state ==0) ? "No asistirá" : ( participant.state ==1) ? "Pendiente" : "Asistirá")}}</td>
								<td>{{ participant.invitationDate  | date:'medium' }}</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button>
				</div>
			</div>
		</div>
	</div>
</div>